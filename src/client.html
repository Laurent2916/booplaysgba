<!DOCTYPE html>
<html>

<head>
  <title>Telecommande</title>

  <style>
    * {
      padding: 0;
      margin: 0;
    }

    table {
      margin: auto;
      margin-top: 30vh;
    }

    td {
      text-align: center;
    }

    #a,
    #b {
      border-radius: 50%;
      width: 2rem;
      height: 2rem;
    }

    #left,
    #right,
    #up,
    #down {
      border-radius: 10%;
      width: 2rem;
      height: 2rem;
    }

    #start,
    #select,
    #l,
    #r {
      border-radius: 25%;
      width: 3.5rem;
    }
  </style>

</head>

<body>
  <table class="buttons">
    <tr>
      <td colspan="2" style="padding-bottom: 1rem;"><button id="l">L</button></td>
      <td></td>
      <td colspan="2" style="padding-bottom: 1rem; text-align: right;"><button id="r">R</button></td>
    </tr>
    <tr>
      <td></td>
      <td><button id="up"> ∧ </button></td>
      <td></td>
      <td><button id="select">select</button></td>
      <td><button id="start">start</button></td>
    </tr>
    <tr>
      <td><button id="left">
          < </button>
      </td>
      <td></td>
      <td style="padding-right: 3rem;"><button id="right"> > </button></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td></td>
      <td><button id="down"> ∨ </button></td>
      <td></td>
      <td><button id="a">A</button></td>
      <td><button id="b">B</button></td>
    </tr>
  </table>

  <script>
    let websocket = new WebSocket("ws://gba.inpt.fr:6789/");

    let a = document.getElementById('a'),
      b = document.getElementById('b'),
      select = document.getElementById('select'),
      start = document.getElementById('start'),
      right = document.getElementById('right'),
      left = document.getElementById('left'),
      up = document.getElementById('up'),
      down = document.getElementById('down'),
      r = document.getElementById('r'),
      l = document.getElementById('l');

    a.onclick = function (event) {
      websocket.send(JSON.stringify({ action: 'a' }));
    }
    b.onclick = function (event) {
      websocket.send(JSON.stringify({ action: 'b' }));
    }
    select.onclick = function (event) {
      websocket.send(JSON.stringify({ action: 'select' }));
    }
    start.onclick = function (event) {
      websocket.send(JSON.stringify({ action: 'start' }));
    }
    right.onclick = function (event) {
      websocket.send(JSON.stringify({ action: 'right' }));
    }
    left.onclick = function (event) {
      websocket.send(JSON.stringify({ action: 'left' }));
    }
    up.onclick = function (event) {
      websocket.send(JSON.stringify({ action: 'up' }));
    }
    down.onclick = function (event) {
      websocket.send(JSON.stringify({ action: 'down' }));
    }
    r.onclick = function (event) {
      websocket.send(JSON.stringify({ action: 'r' }));
    }
    l.onclick = function (event) {
      websocket.send(JSON.stringify({ action: 'l' }));
    }
  </script>
</body>

</html>
